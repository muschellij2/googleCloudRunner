<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Setup • googleCloudRunner</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Setup">
<meta property="og:description" content="googleCloudRunner">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-47480439-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-47480439-2');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">googleCloudRunner</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-wrench"></span>
     
    Setup
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/setup.html">R Setup</a>
    </li>
    <li>
      <a href="../articles/setup-gcp.html">GCP Setup</a>
    </li>
    <li>
      <a href="../articles/git.html">Git Setup</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/cloudbuild.html">
    <span class="fa fa-shapes"></span>
     
    Cloud Build
  </a>
</li>
<li>
  <a href="../articles/cloudrun.html">
    <span class="fa fa-running"></span>
     
    Cloud Run
  </a>
</li>
<li>
  <a href="../articles/cloudscheduler.html">
    <span class="fa fa-clock"></span>
     
    Cloud Scheduler
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-hands-helping"></span>
     
    Use Cases
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/usecase-r-api-microservices.html">R API Microservices</a>
    </li>
    <li>
      <a href="../articles/usecase-shiny-cloudrun.html">Deploy Shiny on Cloud Run</a>
    </li>
    <li>
      <a href="../articles/usecase-shiny-kubernetes.html">Deploy Shiny on Kubernetes</a>
    </li>
    <li>
      <a href="../articles/usecase-package-docker-build.html">R Package Tools: Auto Docker images</a>
    </li>
    <li>
      <a href="../articles/usecase-testthat-coverage.html">R Package Tools: Testthat coverage</a>
    </li>
    <li>
      <a href="../articles/usecase-deploy-pkgdown-website.html">R Package Tools: Pkgdown websites</a>
    </li>
    <li>
      <a href="../articles/usecase-scheduled-r-builds.html">Scheduled R scripts in the Cloud</a>
    </li>
    <li>
      <a href="../articles/usecase-r-results-github.html">Save R output to GitHub</a>
    </li>
    <li>
      <a href="../articles/usecase-polygot-ga-imports-to-bigquery.html">Integrating R with other languages</a>
    </li>
    <li>
      <a href="../articles/usecase-r-event-driven-pubsub.html">Event-triggered R scripts with pub/sub</a>
    </li>
    <li>
      <a href="../articles/usecase-slackbot-google-analytics.html">Create a Slackbot downloading Google Analytics</a>
    </li>
    <li>
      <a href="../articles/usecase-scheduled-google-analytics.html">Schedule Google Analytics User Deletion API</a>
    </li>
    <li>
      <a href="../articles/usecase-rmarkdown-cloudrun.html">On-demand parameterised R Markdown reports</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-question"></span>
     
    Functions
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/MarkEdmondson1234/googleCloudRunner/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Setup</h1>
            
            <h4 data-toc-skip class="date">2022-03-01</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/MarkEdmondson1234/googleCloudRunner/blob/HEAD/vignettes/setup-gcp.Rmd" class="external-link"><code>vignettes/setup-gcp.Rmd</code></a></small>
      <div class="hidden name"><code>setup-gcp.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="setup-new-google-cloud-project-and-client-id">Setup new Google Cloud Project and client Id<a class="anchor" aria-label="anchor" href="#setup-new-google-cloud-project-and-client-id"></a>
</h2>
<p>It is recommended to use a new Google Cloud Project, to ensure all
modern services are activated. Also cross-project authentication is more
complicated so its easiest if you keep all services within one project.
Billing will also need to be enabled with a credit card.</p>
<p>You will need to be logged in as the Owner of the project for the
below.</p>
<p>A video walk-through is available below, on <a href="https://www.youtube.com/watch?v=RrYrMsoIXsw" class="external-link">how to set-up
googleCloudRunner’s Google Console and R environment</a>:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/RrYrMsoIXsw" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<div class="section level3">
<h3 id="create-consent-screen-for-your-gcp-client">Create Consent Screen for your GCP client<a class="anchor" aria-label="anchor" href="#create-consent-screen-for-your-gcp-client"></a>
</h3>
<p>Once your project is created, visit
<code>APIs &amp; Services &gt; Credentials</code> or
<code>https://console.cloud.google.com/apis/credentials</code> to set up
an OAuth 2.0 Client ID</p>
<p><img src="oauth-create-credentials-start.png"></p>
<p>If not created already, you will first need to make an OAuth consent
screen at <code>APIs &amp; Services &gt; OAuth consent screen</code> or
<code>https://console.cloud.google.com/apis/credentials/consent</code></p>
<p><img src="oauth-consent-screen-name-step1.png"></p>
<p>For most purposes, you will only need to authorize your own email
through this OAuth consent screen, in which case the settings you want
will be:</p>
<ul>
<li>App name - whatever you want</li>
</ul>
<p><img src="oauth-consent-screen-name-step1.png"></p>
<ul>
<li>Scopes - set them to <code>../auth/cloud-platform</code>
(<strong>Note in screenshot a Google bug calls all scopes “BigQueryAPI”
but should read “Cloud Platform”</strong>)</li>
</ul>
<p><img src="oauth-create-credentials-scopes-set-step2.png"></p>
<ul>
<li>Test users = “<a href="mailto:your@email.com" class="email">your@email.com</a>” (plus anyone else who will
authenticate with same client ID)</li>
</ul>
<p><img src="oauth-consent-screen-test-user-step3.png"></p>
<ul>
<li>User type = “External” (or optionally “Internal” if you are a GSuite
user)</li>
</ul>
<p><img src="oauth-consent-screen-final-app.png"></p>
<ul>
<li>Publishing status = “Testing” - you probably do NOT want to push to
production otherwise you will need to get approval from Google.</li>
</ul>
<p><img src="oauth-consent-screen-push-to-production.png"></p>
<p>As the app will not be public or in production, the app should not
require verification, only test users (e.g. your email) should be
approved.</p>
</div>
<div class="section level3">
<h3 id="create-oauth2-client-id-and-download-json-file">Create Oauth2 client ID and download JSON file<a class="anchor" aria-label="anchor" href="#create-oauth2-client-id-and-download-json-file"></a>
</h3>
<p>Once the consent screen is configured, you should be able to create
credentials at
<code>APIs &amp; Services &gt; Credentials &gt; Create Credentials &gt; OAuth client ID</code>
or
<code>https://console.cloud.google.com/apis/credentials/oauthclient</code></p>
<p><img src="oauth-create-credentials-start.png"></p>
<p>Select “Desktop app” - an OAuth client should be created. Download
this client ID via the download button on the far right.</p>
<p><img src="oauth-create-credentials-desktop-app.png"></p>
<p>Upon creation you will have generated a Client ID and a Client
Secret</p>
<p><img src="oauth-create-credentials-created.png"></p>
<p>Now download the client ID JSON file via the download button
far-right that will identify your GCP app. This will be what is used to
generated service keys that are another type of JSON file to
authenticate users for this app.</p>
<p><img src="oauth-create-credentials-download-clientid.png"></p>
<p>Once you have the client Id JSON file, you should be able to use
<code><a href="../reference/cr_setup.html">cr_setup()</a></code> or the manual steps below to setup the rest of
the configuration.</p>
</div>
<div class="section level3">
<h3 id="enable-apis">Enable APIs<a class="anchor" aria-label="anchor" href="#enable-apis"></a>
</h3>
<p>To enable automatic provision of the service accounts are services
you may also need to active the APIs necessary</p>
<ul>
<li>IAM API <a href="https://console.developers.google.com/apis/api/iam.googleapis.com/overview" class="external-link uri">https://console.developers.google.com/apis/api/iam.googleapis.com/overview</a>
</li>
<li>Cloud Resource Manager <a href="https://console.developers.google.com/apis/api/cloudresourcemanager.googleapis.com/overview" class="external-link uri">https://console.developers.google.com/apis/api/cloudresourcemanager.googleapis.com/overview</a>
</li>
<li>Cloud Run <a href="https://console.developers.google.com/apis/api/run.googleapis.com/overview" class="external-link uri">https://console.developers.google.com/apis/api/run.googleapis.com/overview</a>
</li>
<li>Cloud Build <a href="https://console.cloud.google.com/apis/api/cloudbuild.googleapis.com/overview" class="external-link uri">https://console.cloud.google.com/apis/api/cloudbuild.googleapis.com/overview</a>
</li>
</ul>
<p>If the APIs are not activated, the error messages should point you in
the right direction. Enable the APIs if necessary and try the call
again.</p>
<p>You will also need to create a Cloud Schedule job manually first,
which will on start up ask you to set up a region for your scheduled
jobs. Set them up starting from here: <a href="https://console.cloud.google.com/cloudscheduler" class="external-link uri">https://console.cloud.google.com/cloudscheduler</a></p>
</div>
</div>
<div class="section level2">
<h2 id="setup-wizard-cr_setup">Setup wizard cr_setup()<a class="anchor" aria-label="anchor" href="#setup-wizard-cr_setup"></a>
</h2>
<p>There is a setup function to help you configure the package. Get
started via the commands below:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://code.markedmondson.me/googleCloudRunner/">googleCloudRunner</a></span><span class="op">)</span>
<span class="fu"><a href="../reference/cr_setup.html">cr_setup</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#ℹ ==Welcome to googleCloudRunner setup==</span>
<span class="co">#This wizard will scan your system for setup options and help you setup any that are missing.</span>
<span class="co">#Hit 0 or ESC to cancel.</span>
<span class="co">#</span>
<span class="co">#1: Configure/check all googleCloudRunner settings</span>
<span class="co">#2: Configure GCP Project Id</span>
<span class="co">#3: Configure Authentication JSON file</span>
<span class="co">#4: Configure Cloud Storage bucket</span>
<span class="co">#5: Configure Cloud Run region</span>
<span class="co">#6: Configure Cloud Scheduler build email</span></code></pre></div>
<p>It will walk you through the details below. You can also use it to
check your settings.</p>
<div class="section level3">
<h3 id="cr_setup_auth-and-cr_setup_service">cr_setup_auth() and cr_setup_service()<a class="anchor" aria-label="anchor" href="#cr_setup_auth-and-cr_setup_service"></a>
</h3>
<p>You can configure authentication separately, as its usually the
trickiest bit. The <code><a href="../reference/cr_setup_auth.html">cr_setup_auth()</a></code> function attempts to
help you walk through the authentication and after running it and
restarting R a couple of times you should only need to download a client
ID from your project to have it all configured for you.</p>
<p>If you are customising things then <code><a href="../reference/cr_setup_service.html">cr_setup_service()</a></code>
may be useful, which lets you add common roles to the service account
emails. The other setup functions call it to set things up for you, but
you may want more control, or have special needs for your cloud build
email for example, which needs roles assigned for certain services you
want to build.</p>
</div>
<div class="section level3">
<h3 id="cr_setup_test">cr_setup_test()<a class="anchor" aria-label="anchor" href="#cr_setup_test"></a>
</h3>
<p>Once you get all green ticks in <code><a href="../reference/cr_setup.html">cr_setup()</a></code> then you
should be able to run the subset of the package unit tests via
<code><a href="../reference/cr_setup_test.html">cr_setup_test()</a></code>. Should those all complete then you should
be able to run any of the functions in the package!</p>
</div>
</div>
<div class="section level2">
<h2 id="gcp-settings">GCP settings<a class="anchor" aria-label="anchor" href="#gcp-settings"></a>
</h2>
<div class="section level3">
<h3 id="authentication-background">Authentication background<a class="anchor" aria-label="anchor" href="#authentication-background"></a>
</h3>
<p>The package uses several interacting Google Cloud services so setup
needs to cover authentication both for yourself and the services
interacting on your behalf.</p>
<p>There are three types of authentication to keep track of:</p>
<ol style="list-style-type: decimal">
<li>Authenticating your local R session so it can submit jobs</li>
<li>Authenticating Cloud Build so it can do the script you have
submitted</li>
<li>Authenticating services such as Cloud Scheduler so they can trigger
builds on your behalf.</li>
</ol>
<p>Its simplest if you use the same authentication key for 1 and 3, and
the default Cloud Build service email for 2.</p>
<p>Confusion can occur if you use the Cloud Build service email from 2
for 1 or 3.</p>
</div>
<div class="section level3">
<h3 id="suggested-setup">Suggested setup<a class="anchor" aria-label="anchor" href="#suggested-setup"></a>
</h3>
<p>The suggested setup is only required once per GCP project. Following
the below instructions will mean:</p>
<ol style="list-style-type: decimal">
<li>You can use all R functions in the package to trigger builds locally
with a dedicated service key</li>
<li>You can reuse the Cloud Build service email to authenticate build
services (such as gcloud and BigQuery)</li>
<li>Scheduled builds will reuse the key you use locally</li>
</ol>
<p>Follow these steps:</p>
<div class="section level4">
<h4 id="local-auth-email">Local auth email<a class="anchor" aria-label="anchor" href="#local-auth-email"></a>
</h4>
<ol style="list-style-type: decimal">
<li>Log in to your Google Cloud Project with billing enabled</li>
<li>Go to <code>IAM &amp; Admin &gt; Service accounts</code>
</li>
<li>Click “Create Service Account”</li>
<li>Create a service account ID - see suggested example here:</li>
</ol>
<p><img src="cr_service_email.png"></p>
<ol start="5" style="list-style-type: decimal">
<li>Set the roles of the service account on the next screen to
these:</li>
</ol>
<p><img src="service-roles.png"></p>
<ul>
<li>Cloud Build Service Account</li>
<li>Cloud Scheduler Admin</li>
<li>Service Account User</li>
<li>Cloud Run Admin</li>
<li>Storage Object Admin (or Storage Admin to setup pub/sub)</li>
</ul>
<ol start="6" style="list-style-type: decimal">
<li>Give yourself access as a user to the service account, then click
“Create key” and select “JSON”</li>
<li>Download the auth json key and put it in a folder separate from all
R projects or git commits. <strong>This file should be guarded as it
grants access to sensitive operations</strong>
</li>
<li>Set your <code>.Renviron</code> file to point at the JSON file you
just downloaded, and use its service email for scheduled builds
e.g.:</li>
</ol>
<pre><code><span class="va">GCE_AUTH_FILE</span><span class="op">=</span><span class="st">"/Users/me/auth/auth.json"</span>
<span class="va">CR_BUILD_EMAIL</span><span class="op">=</span><span class="va">googlecloudrunner</span><span class="op">@</span><span class="va">your</span><span class="op">-</span><span class="va">project.iam.gserviceaccount.com</span></code></pre>
<ol start="9" style="list-style-type: decimal">
<li>Ensure you have the Cloud Build, Cloud Run, Cloud Storage and Cloud
Scheduler APIs turned on in your GCP project via the
<code>GCP console &gt; APIs &amp; Services</code>
</li>
</ol>
</div>
<div class="section level4">
<h4 id="the-cloud-build-service-account">The Cloud Build service account<a class="anchor" aria-label="anchor" href="#the-cloud-build-service-account"></a>
</h4>
<p>This is the service account for Cloud Build when it is running on
your project. It is created automatically, and should look like
<code>{project-number}@cloudbuild.gserviceaccount.com</code> when you
examine your IAM console.</p>
<ul>
<li>The Cloud Build service account needs permissions if you want it to
deploy to Cloud Run: This can be set <a href="https://console.cloud.google.com/cloud-build/settings" class="external-link">here</a>
where you enable <code>Cloud Run Admin</code> and
<code>Service Account User</code> roles. More details found at this <a href="https://cloud.google.com/cloud-build/docs/deploying-builds/deploy-cloud-run" class="external-link">Google
reference article</a>.</li>
<li>Ensure you also have a service email in your IAM section called
<code>service-{project-number}@gcp-sa-cloudscheduler.iam.gserviceaccount.com</code>
with Cloud Scheduler Service Agent role. This is only needed if you
created the project before March 2019. This only needs to exist in the
GCP project, it is not used in deployment. See <a href="https://cloud.google.com/scheduler/docs/http-target-auth#add" class="external-link">here</a>
</li>
<li>To use <code><a href="../reference/cr_buildstep_secret.html">cr_buildstep_secret()</a></code> for <a href="https://cloud.google.com/secret-manager" class="external-link">Google Secret Manager</a>
you need the Secret Manager Secret Accessor role assigned to the build
service email
(<code>{project-number}@cloudbuild.gserviceaccount.com</code>). See <a href="https://cloud.google.com/cloud-build/docs/securing-builds/use-encrypted-secrets-credentials" class="external-link">using
encrypted secrets and credentials</a> Google help page. If you want to
use the decryption service such as from
<code><a href="../reference/cr_buildstep_decrypt.html">cr_buildstep_decrypt()</a></code> then your Cloud Build service
account needs to have at least Cloud KMS CryptoKey Decrypter role.</li>
<li>Likewise with other GCP services the Cloud Build will use - i.e. if
you want to use BigQuery services in your builds, give your build email
BigQuery IAM access</li>
<li>For Cloud Run you need <code>iam.serviceaccounts.actAs</code>
permission on the
<code>{project-number}-compute@developer.gserviceaccount.com</code>
service email that should be there by default. Similarly,
<code>service-{project-number}@serverless-robot-prod.iam.gserviceaccount.com</code>
should have the role <code>Cloud Run Service Agent</code>
</li>
</ul>
</div>
<div class="section level4">
<h4 id="misc">Misc<a class="anchor" aria-label="anchor" href="#misc"></a>
</h4>
<ul>
<li>If you want to use GitHub or BitBucket repos, you need to setup
mirroring them via Cloud Source Repositories <a href="https://source.cloud.google.com/" class="external-link uri">https://source.cloud.google.com/</a>
</li>
<li>To use Cloud Scheduler you may need to initiate an App Engine
application <a href="https://console.developers.google.com/appengine" class="external-link uri">https://console.developers.google.com/appengine</a> - you
only need to set the region (one allowed per GCP project) and you don’t
need to create an app</li>
</ul>
</div>
<div class="section level4">
<h4 id="customise">Customise?<a class="anchor" aria-label="anchor" href="#customise"></a>
</h4>
<p>The above should give you the minimal access required for
<code>googleCloudRunner</code>. It could be modified to increase the
amount of services the local auth file has access to such as Compute
Engine VMs etc. (if say you wanted to reuse it for
<code>googleComputeEngineR</code>)</p>
<p>You could also change the build email set in
<code>CR_BUILD_EMAIL</code> to be yet another service account, perhaps
one with less permissions (such as Cloud Run Invoker, not Cloud Run
Admin)</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Mark Edmondson.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
